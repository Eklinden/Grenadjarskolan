---
import BaseLayout from '../layouts/BaseLayout.astro';
import { featuredTeachers } from '../data/teachers';
import { findCurrentWeek, menuWeeks } from '../data/matsedel';

const heroHighlights = [
  'üåø Gr√∂n oas i Kasernomr√•det, √ñrebro',
  'üé® Kreativa klassrum och makerspace',
  'ü§ù Elever, l√§rare och v√•rdnadshavare i n√§ra samarbete'
];

const quickFacts = [
  {
    label: 'Elever F‚Äì9',
    value: '430+',
    description: 'Mindre klasser med fokus p√• trygghet och studiero.'
  },
  {
    label: 'Elevh√§lsoteam',
    value: 'Tv√§rprofessionellt',
    description: 'Specialpedagoger, kurator, skolsk√∂terska och studie- & yrkesv√§gledare.'
  },
  {
    label: 'Profil',
    value: 'Kunskap & omsorg',
    description: 'En helhetssyn p√• varje elevs utveckling och l√§rande.'
  }
];

const programmes = [
  {
    title: 'F√∂rskoleklass',
    description: 'En mjuk √∂verg√•ng fr√•n f√∂rskola till skola med lekfullt l√§rande, social tr√§ning och tydliga rutiner.'
  },
  {
    title: 'L√•gstadium (√Ök 1‚Äì3)',
    description: 'Grundl√§ggande kunskaper i svenska, matematik och engelska kombineras med skapande √§mnen och r√∂relse.'
  },
  {
    title: 'Mellanstadium (√Ök 4‚Äì6)',
    description: 'Nyfikenhetsdrivet arbetss√§tt, f√∂rdjupning i SO/NO och tidiga digitala verktyg f√∂r att st√§rka elevernas f√∂rm√•gor.'
  },
  {
    title: 'H√∂gstadium (√Ök 7‚Äì9)',
    description: '√Ñmnesbeh√∂riga l√§rare, studief√∂rberedande arbetss√§tt och v√§gledning inf√∂r framtida studier och yrkesval.'
  }
];

const dayHighlights = [
  {
    title: 'Elevinflytande & mentorskap',
    description: 'Varje elev har en personlig mentor och deltar i elevr√•d d√§r id√©er om skolmilj√∂ och undervisning tas vidare.'
  },
  {
    title: 'H√•llbar skolmilj√∂',
    description: 'Gr√∂na g√•rdar, skolmat med h√∂gt n√§ringsv√§rde och √•terkommande temaveckor om h√•llbar utveckling.'
  },
  {
    title: 'Kultur & r√∂relse',
    description: 'Musik, bild och drama samsas med idrott, friluftsdagar och samarbeten med lokala f√∂reningar.'
  }
];

const supportServices = [
  {
    title: 'Trygghetsarbete',
    description: 'Tydliga ordningsregler, aktiva rastv√§rdar och en trygghetsgrupp som snabbt f√•ngar upp signaler.'
  },
  {
    title: 'Elevh√§lsa n√§ra undervisningen',
    description: 'Elevh√§lsoteamet arbetar tillsammans med l√§rarna f√∂r att tidigt s√§tta in √•tg√§rder och anpassningar.'
  },
  {
    title: 'St√∂d i svenska som andraspr√•k',
    description: 'Modersm√•lsundervisning och studiehandledning st√§rker elevernas flerspr√•kiga kompetens.'
  }
];

const timeline = [
  {
    time: 'V√•ren 2025',
    title: '√ñppet hus och skolvisningar',
    description:
      'Tr√§ffa elever, l√§rare och skolledning. Vi visar v√•ra lokaler i kasernomr√•det och ber√§ttar om v√•r pedagogiska profil.'
  },
  {
    time: '31 mars 2025',
    title: 'Sista ans√∂kningsdag f√∂r h√∂sten 2025',
    description: 'Ans√∂k via √ñrebro kommuns e-tj√§nst eller kontakta expeditionen f√∂r hj√§lp med ans√∂kan.'
  },
  {
    time: 'Juni 2025',
    title: 'Utskick av v√§lkomstbrev',
    description: 'Nya elever f√•r information om klassplacering, terminsstart och sommarens l√§s- & matteutmaningar.'
  }
];

const testimonials = [
  {
    quote:
      'Grenadj√§rskolan har gett v√•r dotter studiero och sj√§lvf√∂rtroende. Mentorskapet g√∂r att vi alltid k√§nner oss uppdaterade.',
    author: 'Anna, v√•rdnadshavare i √•rskurs 5'
  },
  {
    quote:
      'Vi jobbar t√§tt ihop i arbetslagen och ser varje elev. Det kollegiala l√§randet och elevh√§lsofokuset g√∂r stor skillnad.',
    author: 'Johan, l√§rare i matematik och NO'
  },
  {
    quote:
      'H√§r v√•gar jag testa nya id√©er och jag f√•r st√∂d om n√•got k√§nns sv√•rt. Skolan lyssnar verkligen p√• oss elever.',
    author: 'Elin, elev i √•rskurs 8'
  }
];

const today = new Date();
const currentWeek = findCurrentWeek(menuWeeks, today);
const formattedWeek = `Vecka ${currentWeek.weekNumber}`;
const weekdayFormatter = new Intl.DateTimeFormat('sv-SE', { weekday: 'long' });
const currentWeekdayName = weekdayFormatter.format(today);
const normalizedWeekday =
  currentWeekdayName.charAt(0).toUpperCase() + currentWeekdayName.slice(1);
const todaysMenu =
  currentWeek.days.find((day) => day.day === normalizedWeekday) ??
  currentWeek.days[0];
---
<BaseLayout
  title="Grenadj√§rskolan ‚Äì Kunskap, omsorg och framtidstro"
  description="Uppt√§ck Grenadj√§rskolan i √ñrebro: en F‚Äì9-skola som f√∂renar h√∂ga akademiska ambitioner med ett tryggt socialt klimat."
>
  <section class="hero" aria-labelledby="hero-heading">
    <div class="container hero-grid">
      <div class="hero-card">
        <div class="hero-badges" aria-hidden="true">
          {heroHighlights.map((item) => (
            <span key={item}>{item}</span>
          ))}
        </div>
        <h1 id="hero-heading">V√§lkommen till Grenadj√§rskolan</h1>
        <p>
          Grenadj√§rskolan √§r en F‚Äì9-skola i hj√§rtat av √ñrebro d√§r eleverna f√•r v√§xa i en varm och gr√∂n gemenskap.
          Vi f√∂renar h√∂ga kunskapsresultat med omtanke, elevinflytande och en trygg milj√∂ som sprudlar av energi.
        </p>
        <div class="hero-actions">
          <a class="button button-primary" href="#kontakt">Boka skolbes√∂k</a>
          <a class="button button-secondary" href="#program">Utforska v√•ra program</a>
          <a class="button button-tertiary" href="/larare">M√∂t v√•ra l√§rare</a>
        </div>
      </div>
      <div class="hero-stats" aria-label="Snabbfakta om Grenadj√§rskolan">
        {quickFacts.map((fact) => (
          <article class="stat-card" key={fact.label}>
            <p class="stat-value" aria-label={fact.label}>{fact.value}</p>
            <h2>{fact.label}</h2>
            <p>{fact.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="section" id="om" aria-labelledby="about-heading">
    <div class="container">
      <h2 class="section-heading" id="about-heading">Om Grenadj√§rskolan</h2>
      <p class="section-intro">
        Grenadj√§rskolan kombinerar gedigen undervisning med ett n√§ra elevh√§lsoarbete. V√•ra elever har tillg√•ng till modern teknik,
        inspirerande l√§rmilj√∂er och engagerade l√§rare som f√∂ljer deras utveckling genom hela skolg√•ngen. Skolan ligger i det
        historiska kasernomr√•det, med Stadsparken och friluftsmuseet Wadk√∂ping runt h√∂rnet f√∂r utelektioner och kulturutflykter.
      </p>
      <div class="card-grid" role="list">
        <article class="card" role="listitem">
          <h3>En trygg start</h3>
          <p>
            Vi erbjuder introduktionsprogram och √∂verg√•ngssamtal s√• att varje elev k√§nner sig v√§lkommen fr√•n f√∂rsta dagen. Mentorer och fritidspedagoger samarbetar t√§tt med v√•rdnadshavare.
          </p>
        </article>
        <article class="card" role="listitem">
          <h3>Digital kompetens</h3>
          <p>
            Eleverna arbetar med moderna digitala verktyg, fr√•n l√§rplattor i l√•gstadiet till personliga datorer p√• h√∂gstadiet. Digitalt skapande, k√§llkritik och programmering integreras i undervisningen.
          </p>
        </article>
        <article class="card" role="listitem">
          <h3>Helhetsperspektiv</h3>
          <p>
            Vi ser till hela eleven ‚Äì l√§rande, h√§lsa och social utveckling. Fritidshemmet och elevh√§lsan planerar tillsammans med
            l√§rarna f√∂r att skapa balans under hela skoldagen och samarbetar med √ñrebro kommuns st√∂dfunktioner.
          </p>
        </article>
      </div>
    </div>
  </section>

  <section class="section" id="program" aria-labelledby="program-heading">
    <div class="container">
      <h2 class="section-heading" id="program-heading">V√•ra program och stadier</h2>
      <p class="section-intro">
        Vi erbjuder en sammanh√•llen skolg√•ng fr√•n f√∂rskoleklass till √•rskurs 9. Varje stadium har sin egen profil, men vi arbetar tillsammans f√∂r att skapa r√∂da tr√•dar i elevernas l√§rande.
      </p>
      <div class="card-grid" role="list">
        {programmes.map((programme) => (
          <article class="card" role="listitem" key={programme.title}>
            <h3>{programme.title}</h3>
            <p>{programme.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="section" id="vardag" aria-labelledby="everyday-heading">
    <div class="container">
      <h2 class="section-heading" id="everyday-heading">S√• ser v√•r skolvardag ut</h2>
      <p class="section-intro">
        Variation och tydlighet pr√§glar dagarna p√• Grenadj√§rskolan. Vi v√§xlar mellan l√§rarledda genomg√•ngar, grupparbeten, laborationer
        och utevistelse i Stadstr√§dg√•rden eller l√§ngs Svart√•n f√∂r att skapa energi och lust att l√§ra.
      </p>
      <div class="features-grid" role="list">
        {dayHighlights.map((highlight) => (
          <article class="feature" role="listitem" key={highlight.title}>
            <h3>{highlight.title}</h3>
            <p>{highlight.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="section" id="stodochtrygghet" aria-labelledby="support-heading">
    <div class="container">
      <h2 class="section-heading" id="support-heading">St√∂d, trygghet och elevh√§lsa</h2>
      <p class="section-intro">
        Elevh√§lsan √§r navet i v√•rt arbete f√∂r likv√§rdighet. Genom t√§ta uppf√∂ljningar, tillg√§ngliga l√§rmilj√∂er och tidiga insatser skapar vi f√∂ruts√§ttningar f√∂r alla att lyckas.
      </p>
      <div class="card-grid" role="list">
        {supportServices.map((service) => (
          <article class="card" role="listitem" key={service.title}>
            <h3>{service.title}</h3>
            <p>{service.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="section section-alt" id="lararteamet" aria-labelledby="teacher-preview-heading">
    <div class="container">
      <h2 class="section-heading" id="teacher-preview-heading">M√∂t n√•gra av v√•ra l√§rare</h2>
      <p class="section-intro">
        V√•ra pedagoger finns n√§ra eleverna varje dag. P√• skolans l√§rarsida presenterar vi hela teamet ‚Äì h√§r √§r ett axplock av de personer som g√∂r skillnad i klassrummet just nu.
      </p>
      <div class="profile-grid profile-grid--preview" role="list">
        {featuredTeachers.map((person) => (
          <article class="profile-card" role="listitem" key={person.name}>
            <h3>{person.name}</h3>
            <div class="profile-meta">
              <span class="chip">{person.role}</span>
              {person.focus && <span class="chip">{person.focus}</span>}
              {person.tags?.map((tag) => (
                <span class="chip" key={tag}>{tag}</span>
              ))}
            </div>
            <p>{person.bio}</p>
          </article>
        ))}
      </div>
      <div class="section-cta">
        <a class="button button-secondary" href="/larare">Visa alla l√§rare</a>
      </div>
    </div>
  </section>

  <section class="section" id="veckans-meny" aria-labelledby="menu-preview-heading">
    <div class="container">
      <h2 class="section-heading" id="menu-preview-heading">{formattedWeek}: veckans skolmat</h2>
      <p class="section-intro">
        K√∂ket lagar maten fr√•n grunden med r√•varor som eleverna ofta varit med och odlat. Veckans faktaruta: {currentWeek.fact}
      </p>
      <div class="menu-preview-grid" role="list">
        {currentWeek.days.map((day) => (
          <article
            class={`menu-preview-card${day.day === todaysMenu.day ? ' is-today' : ''}`}
            role="listitem"
            key={day.day}
          >
            <div class="menu-preview-header">
              <h3>{day.day}</h3>
              {day.day === todaysMenu.day && <span class="chip chip--accent">Idag</span>}
            </div>
            <ul class="meal-list">
              {day.meals.map((meal) => (
                <li key={meal}>{meal}</li>
              ))}
            </ul>
            <p class="meal-highlight">{day.highlight}</p>
          </article>
        ))}
      </div>
      <div class="section-cta">
        <a class="button button-primary" href="/skolmat">Se alla veckors matsedel</a>
      </div>
    </div>
  </section>

  <section class="section" aria-labelledby="timeline-heading">
    <div class="container">
      <h2 class="section-heading" id="timeline-heading">Viktiga datum</h2>
      <p class="section-intro">Planera in √•rets h√§ndelser och deadlines. Vi uppdaterar kalendern l√∂pande under terminen.</p>
      <div class="timeline" role="list">
        {timeline.map((item) => (
          <article class="timeline-item" role="listitem" key={item.title}>
            <time dateTime={item.time}>{item.time}</time>
            <h3>{item.title}</h3>
            <p>{item.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="section" aria-labelledby="testimonial-heading">
    <div class="container">
      <h2 class="section-heading" id="testimonial-heading">R√∂ster fr√•n skolans vardag</h2>
      <div class="testimonials" role="list">
        {testimonials.map((item) => (
          <figure class="testimonial" role="listitem" key={item.author}>
            <blockquote>
              <p>‚Äú{item.quote}‚Äù</p>
            </blockquote>
            <figcaption>
              <cite>{item.author}</cite>
            </figcaption>
          </figure>
        ))}
      </div>
    </div>
  </section>

  <section class="section" id="kontakt" aria-labelledby="contact-heading">
    <div class="container contact-grid">
      <div class="contact-panel">
        <h2 class="section-heading" id="contact-heading">Kontakta oss</h2>
        <p>Har du fr√•gor om verksamheten, vill du boka ett m√∂te eller anm√§la ditt barn? H√∂r av dig s√• hj√§lper vi dig vidare.</p>
        <p>
          <strong>Telefon:</strong> <a href="tel:+4619213950">019-21 39 50</a><br />
          <strong>E-post:</strong> <a href="mailto:grenadjarskolan@orebro.se">grenadjarskolan@orebro.se</a>
        </p>
        <p>
          <strong>Bes√∂k:</strong> Grenadj√§rsgatan 1, 702 17 √ñrebro<br />
          <strong>Expeditionstid:</strong> Vardagar 07.30‚Äì16.30
        </p>
      </div>
      <div>
        <h3>Kontakta elevh√§lsoteamet</h3>
        <p>
          Elevh√§lsoteamet n√•r du via expeditionen eller direkt via
          <a href="mailto:elevhalsa.grenadjarskolan@orebro.se">elevhalsa.grenadjarskolan@orebro.se</a>.
          Vi arbetar f√∂rebyggande och kan hj√§lpa till med allt fr√•n studieteknik till st√∂dinsatser.
        </p>
        <h3>Hitta hit</h3>
        <p>
          Grenadj√§rskolan ligger centralt i kasernomr√•det med n√§rhet till kollektivtrafik. H√•llplatsen ‚ÄúGrenadj√§rstaden‚Äù n√•r du p√• ett par minuter och √ñrebro resecentrum p√• tio.
        </p>
      </div>
    </div>
  </section>
</BaseLayout>
